{"version":3,"sources":["bin/lib/initializeUser.js","bin/lib/folder.js","bin/lib/handleCommand.js","bin/Terminal.js","bin/lib/initializePath.js","index.js"],"names":["setKeyValue","copy","origin","key","addStrZero","num","String","modifyDate","date","mo","getMonth","dd","getDate","hh","getHours","mm","getMinutes","File","permission","owner","ownerGroup","fileSize","updatedDate","addContents","str","contents","this","name","length","link","Date","isFile","Folder","appendChild","user","isSudo","setUser","cb","childLength","child","includes","newFileOrFolder","info","undefined","push","path","nowDir","deleteChild","r","f","tmp","tmpArr","tempArr","temp","slice","createFolder","data","githubUserName","objCmd","line","lineArr","split","shift","command","args","errorFlag","Terminal","setCommandLine","setUserInfo","userInfo","initialUser","userFolder","home","dirPath","initializePath","props","result","userId","email","githubId","initializeUser","useState","ROOT","getRoot","xtermRef","useRef","writeTerminal","current","terminal","writeln","newWrite","write","nonObjCmd","PWD","join","pwd","userPath","Array","isArray","copyPath","console","log","ls","optionCmd","options","a","l","fileOrFolder","commandLine","setCmdLine","clearPrompt","setTwoCmdLine","welcomeText","welcome","useEffect","ref","onKey","domEvent","printCB","inputs","trim","indexOf","map","x","filter","splitSemi","input","doCommand","cmdLine","pop","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a0e6803a.chunk.js","sourcesContent":["const setKeyValue = (copy = {}, origin = {}, key = '') => {\n\tif (key && origin[key]) {\n\t\tcopy[key] = origin[key];\n\t}\n\treturn copy[key];\n};\n\nconst initializeUser = (props) => {\n\tconst result = {\n\t\tname: '',\n\t\tuserId: '',\n\t\temail: '',\n\t\tgithubId: '',\n\t\tgithubUserName: '',\n\t};\n\n\tfor (let key in result) {\n\t\tresult[key] = setKeyValue(result, props, key);\n\t}\n\n\tif (result.name === '') {\n\t\tresult.name = 'codestates';\n\t}\n\tif (result.githubUserName === '') {\n\t\tresult.githubUserName = 'codestates';\n\t}\n\tif (result.dirPath === undefined) {\n\t\tresult.dirPath = [];\n\t}\n\treturn result;\n};\n\nexport { initializeUser };\n","const addStrZero = (num) => (num < 10 ? '0' + String(num) : String(num));\n\nconst modifyDate = (date) => {\n\tconst mo = date.getMonth() + 1;\n\tconst dd = date.getDate();\n\tconst hh = date.getHours();\n\tconst mm = date.getMinutes();\n\treturn ` ${mo} ${dd} ${addStrZero(hh)}:${addStrZero(mm)}`;\n};\n\nclass File {\n\tconstructor({ permission, owner, ownerGroup, fileSize, updatedDate, key }) {\n\t\tthis.name = '';\n\t\tthis.contents = '';\n\t\tthis.permission = permission || '-rwxrwxrwx';\n\t\tif (key.length > 0) {\n\t\t\tthis.name = key;\n\t\t}\n\t\tthis.link = [];\n\t\tthis.owner = owner || '';\n\t\tthis.ownerGroup = ownerGroup || 'staff';\n\t\tthis.fileSize = fileSize || 2048;\n\t\tthis.updatedDate = updatedDate || modifyDate(new Date());\n\t\tthis.isFile = true;\n\t}\n\n\taddContents = (str) => {\n\t\tthis.contents = str;\n\t};\n}\n\nclass Folder {\n\tconstructor({ permission, owner, ownerGroup, fileSize, updatedDate, key }) {\n\t\tthis.name = '';\n\t\tthis.child = [];\n\t\tthis.childLength = 0;\n\t\tthis.link = [];\n\t\tthis.permission = permission || 'drwxrwxrwx';\n\t\tif (key) {\n\t\t\tthis.name = key;\n\t\t}\n\t\tthis.link = [];\n\t\tthis.owner = owner || '';\n\t\tthis.ownerGroup = ownerGroup || 'staff';\n\t\tthis.fileSize = fileSize || 2048;\n\t\tthis.updatedDate = updatedDate || modifyDate(new Date());\n\t\tthis.isFile = false;\n\t}\n\n\tappendChild = (user, name, isSudo, isFile, setUser, cb) => {\n\t\tif (this.childLength < 6) {\n\t\t\tif (this.child.includes(name)) {\n\t\t\t\tcb('\\r\\n');\n\t\t\t\tcb('The name is already exist. try another name.');\n\t\t\t\treturn;\n\t\t\t} else {\n\t\t\t\tlet newFileOrFolder;\n\t\t\t\tlet info = {};\n\n\t\t\t\tif (isSudo) {\n\t\t\t\t\tinfo = {\n\t\t\t\t\t\tpermission: 'rwxrwxrwx',\n\t\t\t\t\t\towner: 'root',\n\t\t\t\t\t\townerGroup: 'admin',\n\t\t\t\t\t};\n\t\t\t\t} else {\n\t\t\t\t\tinfo = {\n\t\t\t\t\t\tpermission: 'rwxr-xr-x',\n\t\t\t\t\t\towner: this.owner,\n\t\t\t\t\t\townerGroup: 'staff',\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tif (info.key === undefined) info.key = name;\n\t\t\t\tif (info.updatedDate === undefined)\n\t\t\t\t\tinfo.updatedDate = modifyDate(new Date());\n\t\t\t\tif (isFile) {\n\t\t\t\t\tif (info.fileSize === undefined) info.fileSize = 0;\n\t\t\t\t\tnewFileOrFolder = new File(info);\n\t\t\t\t} else {\n\t\t\t\t\tif (info.fileSize === undefined) info.fileSize = 64;\n\t\t\t\t\tnewFileOrFolder = new Folder(info);\n\t\t\t\t}\n\t\t\t\tthis.child.push(newFileOrFolder);\n\t\t\t\tthis.childLength++;\n\t\t\t\tthis.fileSize += info.fileSize;\n\t\t\t\tuser.path[user.path.length - 1] = this;\n\t\t\t\tuser.nowDir = this;\n\t\t\t\tsetUser(user);\n\t\t\t}\n\t\t} else {\n\t\t\tcb('\\r\\n');\n\t\t\tcb(\n\t\t\t\t'cannot create new file or folder. this directory limited 5 child which is sum of all files and folders',\n\t\t\t);\n\t\t\treturn;\n\t\t}\n\t};\n\n\tdeleteChild = (key, r, f, cb) => {\n\t\tconst tmpArr = [];\n\t\tlet tmp;\n\t\tfor (let newFileOrFolder of this.child) {\n\t\t\tif (newFileOrFolder.name !== key) {\n\t\t\t\ttmpArr.push(newFileOrFolder);\n\t\t\t} else {\n\t\t\t\ttmp = newFileOrFolder;\n\t\t\t}\n\t\t}\n\t\tif (!!tmp) {\n\t\t\tif (tmp.isFile) {\n\t\t\t\tthis.child = tmpArr;\n\t\t\t\tthis.childLength--;\n\t\t\t\treturn tmp;\n\t\t\t} else {\n\t\t\t\tif (r && f) {\n\t\t\t\t\tthis.child = tmpArr;\n\t\t\t\t\tthis.childLength--;\n\t\t\t\t\treturn tmp;\n\t\t\t\t} else {\n\t\t\t\t\tif (r && !f) {\n\t\t\t\t\t\tconst tempArr = [];\n\t\t\t\t\t\tfor (let temp of tmp.child) {\n\t\t\t\t\t\t\tif (temp.isFile) {\n\t\t\t\t\t\t\t\ttempArr.push(temp);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tcb('\\r\\n');\n\t\t\t\t\t\t\t\tcb(\n\t\t\t\t\t\t\t\t\t`cannot delete this folder. it's not empty. please try -rf option.`,\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.child = tmpArr;\n\t\t\t\t\t\tthis.childLength--;\n\t\t\t\t\t\treturn tmp;\n\t\t\t\t\t}\n\t\t\t\t\tif (f && !r) {\n\t\t\t\t\t\tfor (let file of tmp.child) {\n\t\t\t\t\t\t\tif (file.permission.slice(0, 4) !== '-rwx') {\n\t\t\t\t\t\t\t\tcb('\\r\\n');\n\t\t\t\t\t\t\t\tcb(\n\t\t\t\t\t\t\t\t\t`cannot delete this folder. found folder. check permission or please try -rf option.`,\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.child = tmpArr;\n\t\t\t\t\t\tthis.childLength--;\n\t\t\t\t\t\treturn tmp;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tcb('\\r\\n');\n\t\t\tcb(`cannot find the file named \"${key}\"`);\n\t\t\treturn;\n\t\t}\n\t};\n}\n\nconst createFile = (user, key = 'codestates') => {\n\tconst data = {};\n\tif (user.isSudo) {\n\t\tif (data.owner === undefined) {\n\t\t\tdata.owner = 'root';\n\t\t}\n\t\tif (data.permission === undefined) {\n\t\t\tdata.permission = 'drwxrwxrwx';\n\t\t}\n\t\tif (data.ownerGroup === undefined) {\n\t\t\tdata.ownerGroup = 'admin';\n\t\t}\n\t} else {\n\t\tif (data.owner === undefined) {\n\t\t\tdata.owner = user.githubUserName;\n\t\t}\n\t\tif (data.permission === undefined) {\n\t\t\tdata.permission = 'drwxr-xr-x';\n\t\t}\n\t\tif (data.ownerGroup === undefined) {\n\t\t\tdata.ownerGroup = 'staff';\n\t\t}\n\t}\n\tif (data.fileSize === undefined) {\n\t\tdata.fileSize = 0;\n\t}\n\tif (data.updatedDate === undefined) {\n\t\tdata.updatedDate = modifyDate(new Date());\n\t}\n\tif (data.key === undefined) {\n\t\tdata.key = key;\n\t}\n\treturn new File(data);\n};\n\nconst createFolder = (user, key = 'codestates') => {\n\tconst data = {};\n\tif (user.isSudo) {\n\t\tif (data.owner === undefined) {\n\t\t\tdata.owner = 'root';\n\t\t}\n\t\tif (data.permission === undefined) {\n\t\t\tdata.permission = 'drwxrwxrwx';\n\t\t}\n\t\tif (data.ownerGroup === undefined) {\n\t\t\tdata.ownerGroup = 'admin';\n\t\t}\n\t} else {\n\t\tif (data.owner === undefined) {\n\t\t\tdata.owner = user.githubUserName;\n\t\t}\n\t\tif (data.permission === undefined) {\n\t\t\tdata.permission = 'drwxr-xr-x';\n\t\t}\n\t\tif (data.ownerGroup === undefined) {\n\t\t\tdata.ownerGroup = 'staff';\n\t\t}\n\t}\n\tif (data.fileSize === undefined) {\n\t\tdata.fileSize = 64;\n\t}\n\tif (data.updatedDate === undefined) {\n\t\tdata.updatedDate = modifyDate(new Date());\n\t}\n\tif (data.key === undefined) {\n\t\tdata.key = key;\n\t}\n\treturn new Folder(data);\n};\n\nexport { createFile, createFolder, Folder, File };\n","import { createFolder } from './folder';\n\nconst splitSemi = (str) => {\n\tstr = str.trim();\n\tconst idxSemi = str.indexOf(';');\n\tlet result = [];\n\tif (idxSemi === -1) {\n\t\tresult.push(str);\n\t} else {\n\t\tresult = str\n\t\t\t.split(';')\n\t\t\t.map((x) => x.trim())\n\t\t\t.filter((x) => x);\n\t}\n\treturn result;\n};\n\nconst objCmd = (line, user, setUser, cb) => {\n\tconst lineArr = line.split(' ');\n\tlet isSudo = false,\n\t\tisFile = false;\n\tif (lineArr[0] === 'sudo') {\n\t\tisSudo = true;\n\t\tlineArr.shift();\n\t}\n\tconst [command, ...args] = line.split(' ');\n\tswitch (command) {\n\t\tcase 'mkdir':\n\t\t\tif (args.length === 0) {\n\t\t\t\tcb('\\r\\n');\n\t\t\t\tcb('Enter the folder name you want to create');\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet errorFlag = false;\n\t\t\tfor (let name of args) {\n\t\t\t\tif (user.path[user.path.length - 1].childLength < 6) {\n\t\t\t\t\tuser.path[user.path.length - 1].appendChild(\n\t\t\t\t\t\tuser,\n\t\t\t\t\t\tname,\n\t\t\t\t\t\tisSudo,\n\t\t\t\t\t\tisFile,\n\t\t\t\t\t\tsetUser,\n\t\t\t\t\t\tcb,\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\terrorFlag = true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (errorFlag) {\n\t\t\t\tcb('\\r\\n');\n\t\t\t\tcb(\n\t\t\t\t\t'cannot create new file or folder. this directory limited 5 child which is sum of all files and folders',\n\t\t\t\t);\n\t\t\t}\n\t\t\treturn;\n\t\tdefault:\n\t\t\tcb('\\r\\n');\n\t\t\tcb('command not found: ' + command);\n\t\t\treturn;\n\t}\n};\n\nexport { objCmd, splitSemi };\n","import React, { useRef, useState, useEffect } from 'react';\nimport { XTerm } from 'xterm-for-react';\nimport { initializeUser } from './lib/initializeUser';\nimport { initializePath, isUserPath, getRoot } from './lib/initializePath';\nimport { objCmd, splitSemi } from './lib/handleCommand';\nimport { getParamValue } from 'get-params-for-iframe';\n\n// test code to get user information from urclass in temporary\nconst welcome = (username = 'codestates') =>\n\t[\n\t\t`${username}님 반갑습니다.`,\n\t\t'Linux & CLI 실습을 위한 Interactive web tutorial에 오신 것을 환영합니다.',\n\t\t'이 튜토리얼은 오로지 코드스테이츠 수강생을 위해 만들어졌습니다.',\n\t\t'지금부터 Linux & CLI 실습을 시작합니다.',\n\t].join('\\r\\n');\n\nfunction Terminal({ setCommandLine, setUserInfo, userInfo }) {\n\t// set parent's states\n\tif (!setCommandLine) {\n\t\tsetCommandLine = () => {};\n\t}\n\tif (!setUserInfo) {\n\t\tsetUserInfo = () => {};\n\t}\n\tconst initialUser = initializePath(initializeUser(userInfo));\n\tsetUserInfo({ ...initialUser });\n\tconst [user, setUser] = useState(initialUser);\n\tconst ROOT = getRoot('mkdir root');\n\tconst xtermRef = useRef(null);\n\tconst writeTerminal = (tmp) => {\n\t\txtermRef.current.terminal.writeln(tmp);\n\t};\n\tconst newWrite = (tmp) => {\n\t\txtermRef.current.terminal.write(tmp);\n\t};\n\n\tconst nonObjCmd = {\n\t\tPWD: () => ROOT.name + user.dirPath.join('/'),\n\t\tpwd: (cb) => {\n\t\t\tcb('\\r\\n');\n\t\t\tcb(ROOT.name + user.dirPath.join('/'));\n\t\t},\n\t\tuserPath: () => {\n\t\t\tif (isUserPath(user.githubUserName, user.dirPath)) {\n\t\t\t\tconst copyPath = [...user.dirPath];\n\t\t\t\tcopyPath.shift();\n\t\t\t\tcopyPath.shift();\n\t\t\t\treturn '~' + copyPath.join('/');\n\t\t\t}\n\t\t\treturn nonObjCmd.PWD();\n\t\t},\n\t\tconsole: () => {\n\t\t\tconsole.log(user);\n\t\t},\n\t\tls: (cb, optionCmd = '') => {\n\t\t\tif (optionCmd && typeof optionCmd === 'string') {\n\t\t\t\tconst options = optionCmd.split('');\n\t\t\t\tconst [a, l] = [options.includes('a'), options.includes('l')];\n\t\t\t\tif (a && l) {\n\t\t\t\t\tcb('\\r\\n');\n\t\t\t\t\tcb('Total ' + user.nowDir.childLength + '\\r\\n');\n\t\t\t\t\tfor (let fileOrFolder of user.nowDir.child) {\n\t\t\t\t\t\tconst {\n\t\t\t\t\t\t\tpermission,\n\t\t\t\t\t\t\tlink,\n\t\t\t\t\t\t\towner,\n\t\t\t\t\t\t\townerGroup,\n\t\t\t\t\t\t\tupdatedDate,\n\t\t\t\t\t\t\tname,\n\t\t\t\t\t\t} = fileOrFolder;\n\t\t\t\t\t\tcb('\\r\\n');\n\t\t\t\t\t\tcb(\n\t\t\t\t\t\t\t`${permission} ${link} ${owner} ${ownerGroup} ${updatedDate} ${name}`,\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t} else if (a) {\n\t\t\t\t\tfor (let fileOrFolder of user.nowDir.child) {\n\t\t\t\t\t\tcb('\\r\\n');\n\t\t\t\t\t\tcb(fileOrFolder.name + '    ');\n\t\t\t\t\t}\n\t\t\t\t} else if (l) {\n\t\t\t\t\tcb('\\r\\n');\n\t\t\t\t\tcb('Total ' + user.nowDir.childLength);\n\t\t\t\t\tfor (let fileOrFolder of user.nowDir.child) {\n\t\t\t\t\t\tif (fileOrFolder.name[0] !== '.') {\n\t\t\t\t\t\t\tconst {\n\t\t\t\t\t\t\t\tpermission,\n\t\t\t\t\t\t\t\tlink,\n\t\t\t\t\t\t\t\towner,\n\t\t\t\t\t\t\t\townerGroup,\n\t\t\t\t\t\t\t\tupdatedDate,\n\t\t\t\t\t\t\t\tname,\n\t\t\t\t\t\t\t} = fileOrFolder;\n\t\t\t\t\t\t\tcb('\\r\\n');\n\t\t\t\t\t\t\tcb(\n\t\t\t\t\t\t\t\t`${permission} ${link} ${owner} ${ownerGroup} ${updatedDate} ${name}`,\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (user.nowDir.childLength > 0) cb('\\r\\n');\n\t\t\t\tfor (let fileOrFolder of user.nowDir.child) {\n\t\t\t\t\tif (fileOrFolder.name[0] !== '.') {\n\t\t\t\t\t\tcb(fileOrFolder.name + '    ');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t};\n\n\tconst [commandLine, setCmdLine] = useState('');\n\tconst clearPrompt = () => {\n\t\tconst $ = '$ ';\n\t\tnewWrite('\\r\\n' + nonObjCmd.userPath() + $);\n\t};\n\n\tconst setTwoCmdLine = (str) => {\n\t\tsetCmdLine(str);\n\t\tsetCommandLine(str);\n\t};\n\n\t// run command\n\tconst doCommand = (line, printCB) => {\n\t\tlet inputs = splitSemi(line);\n\t\tfor (let input of inputs) {\n\t\t\tconst [command, ...args] = input.split(' ');\n\t\t\tif (nonObjCmd[command]) {\n\t\t\t\tnonObjCmd[command](printCB, ...args);\n\t\t\t} else {\n\t\t\t\tobjCmd(input, user, setUser, printCB);\n\t\t\t}\n\t\t}\n\t};\n\n\tconst keyboardEventHandler = ({ domEvent }) => {\n\t\tconst { key } = domEvent;\n\t\tif (key === 'Enter') {\n\t\t\tdoCommand(commandLine, writeTerminal);\n\t\t\tsetTwoCmdLine('');\n\t\t\tclearPrompt();\n\t\t} else if (key === 'Backspace') {\n\t\t\tif (commandLine.length > 0) {\n\t\t\t\tlet cmdLine = commandLine.split('');\n\t\t\t\tcmdLine.pop();\n\t\t\t\tcmdLine = cmdLine.join('');\n\t\t\t\tsetTwoCmdLine(cmdLine);\n\t\t\t\tnewWrite('\\b \\b');\n\t\t\t}\n\t\t} else {\n\t\t\tsetCmdLine(commandLine + key);\n\t\t\tsetCommandLine(commandLine + key);\n\t\t\tnewWrite(key);\n\t\t}\n\t};\n\tconst welcomeText = welcome();\n\tuseEffect(() => {\n\t\twriteTerminal(welcomeText);\n\t\tclearPrompt();\n\t}, []);\n\n\treturn <XTerm ref={xtermRef} onKey={keyboardEventHandler} />;\n}\n\nexport default Terminal;\n","import { createFolder } from './folder';\n\nconst isUserPath = (githubUserName, path) => {\n\tif (Array.isArray(path) && path.length > 1) {\n\t\treturn '/' + path[0] + '/' + path[1] === `/home/${githubUserName}`;\n\t}\n\treturn false;\n};\n\nconst initializePath = (user) => {\n\tconst userFolder = createFolder(user, user.githubUserName);\n\tif (user.path === undefined) {\n\t\tconst home = createFolder(user, 'home');\n\t\tuser.path = [home, userFolder];\n\t}\n\tif (user.dirPath.length === 0) {\n\t\tuser.dirPath = ['home', user.githubUserName];\n\t}\n\tif (user.nowDir === undefined) {\n\t\tuser.nowDir = user.path[1];\n\t}\n\treturn user;\n};\n\nconst getRoot = (user) => createFolder(user, '/');\n\nexport { initializePath, isUserPath, getRoot };\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Terminal from './bin/Terminal';\n\nReactDOM.render(<Terminal />, document.getElementById('root'));\n"],"sourceRoot":""}