{"version":3,"sources":["bin/lib/initializeUser.js","bin/lib/folder.js","bin/Terminal.js","bin/lib/initializePath.js","index.js"],"names":["setKeyValue","copy","origin","key","File","filename","this","name","length","contents","str","Folder","childFiles","childFolders","childLength","Error","includes","file","push","folderName","folder","theFile","tmpArr","fileFlag","theFolder","folderFlag","createFolder","ROOT","Terminal","props","getParamValue","paramName","qArray","window","location","search","substring","split","i","pArr","console","log","user","undefined","path","githubUserName","dirPath","initializePath","result","userId","email","githubId","initializeUser","PATH","cmd","Array","isArray","copyPath","shift","join","xtermRef","useRef","useState","commandLine","setCommandLine","inputPrompt","current","terminal","write","welcomeText","welcome","useEffect","writeln","ref","onKey","domEvent","cmdLine","pop","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a8b9b074.chunk.js","sourcesContent":["const setKeyValue = (copy = {}, origin = {}, key = '') => {\n\tif (key && origin[key]) {\n\t\tcopy[key] = origin[key];\n\t}\n\treturn copy[key];\n};\n\nconst initializeUser = (props) => {\n\tconst result = {\n\t\tname: '',\n\t\tuserId: '',\n\t\temail: '',\n\t\tgithubId: '',\n\t\tgithubUserName: '',\n\t};\n\n\tfor (let key in result) {\n\t\tresult[key] = setKeyValue(result, props, key);\n\t}\n\n\tif (result.name === '') {\n\t\tresult.name = 'codestates';\n\t}\n\n\tif (result.githubUserName === '') {\n\t\tresult.githubUserName = 'codestates';\n\t}\n\n\tif (result.dirPath === undefined) {\n\t\tresult.dirPath = [];\n\t}\n\treturn result;\n};\n\nexport { initializeUser };\n","class File {\n\tconstructor(filename) {\n\t\tthis.name = '';\n\t\tif (filename.length > 0) {\n\t\t\tthis.name = filename;\n\t\t}\n\t\tthis.contents = '';\n\t}\n\n\taddContents(str) {\n\t\tthis.contents = str;\n\t}\n}\n\nclass Folder {\n\tconstructor(key = '') {\n\t\tthis.name = '';\n\t\tthis.childFiles = [];\n\t\tthis.childFolders = [];\n\t\tthis.childLength = 0;\n\t\tif (key) {\n\t\t\tthis.name = key;\n\t\t}\n\t}\n\n\tappendChildFile(filename) {\n\t\tif (this.childLength < 6) {\n\t\t\tif (\n\t\t\t\tthis.childFiles.includes(filename) ||\n\t\t\t\tthis.childFolders.includes(filename)\n\t\t\t) {\n\t\t\t\treturn new Error('filename is already exist. try another filename.');\n\t\t\t} else {\n\t\t\t\tconst file = new File(filename);\n\t\t\t\tthis.childFiles.push(file);\n\t\t\t\tthis.childLength++;\n\t\t\t}\n\t\t} else {\n\t\t\treturn new Error(\n\t\t\t\t'cannot create new file or folder. this directory limited 5 child which is sum of all files and folders',\n\t\t\t);\n\t\t}\n\t}\n\n\tappendChildFolder(folderName) {\n\t\tif (this.childLength < 6) {\n\t\t\tif (\n\t\t\t\tthis.childFiles.includes(folderName) ||\n\t\t\t\tthis.childFolders.includes(folderName)\n\t\t\t) {\n\t\t\t\treturn new Error(\n\t\t\t\t\t'folder name is already exist. try another folder name.',\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tconst folder = new Folder(folderName);\n\t\t\t\tthis.childFolders.push(folder);\n\t\t\t\tthis.childLength++;\n\t\t\t}\n\t\t} else {\n\t\t\treturn new Error(\n\t\t\t\t'cannot create new file or folder. this directory limited 5 child which is sum of all files and folders',\n\t\t\t);\n\t\t}\n\t}\n\n\tdeleteChildFile(key) {\n\t\tconst tmpArr = [];\n\t\tlet theFile,\n\t\t\tfileFlag = false;\n\t\tfor (let file of this.childFiles) {\n\t\t\tif (file.name !== key) {\n\t\t\t\ttmpArr.push(file);\n\t\t\t} else {\n\t\t\t\tfileFlag = true;\n\t\t\t\ttheFile = file;\n\t\t\t}\n\t\t}\n\t\tif (fileFlag) {\n\t\t\tthis.childFiles = tmpArr;\n\t\t\treturn theFile;\n\t\t} else {\n\t\t\treturn new Error(`cannot find the file named \"${key}\"`);\n\t\t}\n\t}\n\n\tdeleteChildFolder(key) {\n\t\tconst tmpArr = [];\n\t\tlet theFolder,\n\t\t\tfolderFlag = false;\n\t\tfor (let folder of this.childFolders) {\n\t\t\tif (folder.name !== key) {\n\t\t\t\ttmpArr.push(folder);\n\t\t\t} else {\n\t\t\t\tfolderFlag = true;\n\t\t\t\ttheFolder = folder;\n\t\t\t}\n\t\t}\n\t\tif (folderFlag) {\n\t\t\tif (theFolder.childLength === 0) {\n\t\t\t\tthis.childFiles = tmpArr;\n\t\t\t\treturn theFolder;\n\t\t\t} else {\n\t\t\t\tnew Error(`cannot delete this folder. it's not empty.`);\n\t\t\t}\n\t\t} else {\n\t\t\treturn new Error(`cannot find the file named \"${key}\"`);\n\t\t}\n\t}\n}\n\nconst createFolder = (key = 'codestates') => new Folder(key);\n\nexport { createFolder, Folder, File };\n","import React, { useRef, useState, useEffect } from 'react';\nimport { XTerm } from 'xterm-for-react';\nimport { initializeUser } from './lib/initializeUser';\nimport { initializePath, isUserPath, getRoot } from './lib/initializePath';\nimport { cmd, splitSemi } from './lib/handleCommand';\n\nconst ROOT = getRoot('mkdir root');\n\n// test code to get user information from urclass in temporary\nconst welcome = (username = 'codestates') =>\n\t[\n\t\t`${username}님 반갑습니다.`,\n\t\t'Linux & CLI 실습을 위한 Interactive web tutorial에 오신 것을 환영합니다.',\n\t\t'이 튜토리얼은 오로지 코드스테이츠 수강생을 위해 만들어졌습니다.',\n\t\t'지금부터 Linux & CLI 실습을 시작합니다.',\n\t].join('\\r\\n');\n\nfunction Terminal(props) {\n\tlet getParamValue = function (paramName) {\n\t\tvar url = window.location.search.substring(1); //get rid of \"?\" in querystring\n\t\tvar qArray = url.split('&'); //get key-value pairs\n\t\tfor (var i = 0; i < qArray.length; i++) {\n\t\t\tvar pArr = qArray[i].split('='); //split key and value\n\t\t\tif (pArr[0] === paramName) console.log(pArr[1]);\n\t\t\treturn pArr[1]; //return value\n\t\t}\n\t};\n\n\tconst user = initializePath(initializeUser(props));\n\tconst PWD = () => ROOT.name + user.dirPath.join('/');\n\tconst PATH = (cmd) => {\n\t\tif (isUserPath(user.githubUserName, user.dirPath)) {\n\t\t\tconst copyPath = [...user.dirPath];\n\t\t\tcopyPath.shift();\n\t\t\tcopyPath.shift();\n\t\t\treturn '~' + copyPath.join('/');\n\t\t}\n\t\treturn PWD();\n\t};\n\tconst xtermRef = useRef(null);\n\tconst [commandLine, setCommandLine] = useState('');\n\tconst inputPrompt = () => {\n\t\tconst $ = '$ ';\n\t\txtermRef.current.terminal.write('\\r\\n' + PATH() + $);\n\t};\n\n\tconst keyboardEventHandler = ({ domEvent }) => {\n\t\tconst { key } = domEvent;\n\t\tif (key === 'Enter') {\n\t\t\tsetCommandLine('');\n\t\t\tinputPrompt();\n\t\t} else if (key === 'Backspace') {\n\t\t\tif (commandLine.length > 0) {\n\t\t\t\tlet cmdLine = commandLine.split('');\n\t\t\t\tcmdLine.pop();\n\t\t\t\tcmdLine = cmdLine.join('');\n\t\t\t\tsetCommandLine(cmdLine);\n\t\t\t\txtermRef.current.terminal.write('\\b \\b');\n\t\t\t}\n\t\t} else {\n\t\t\tsetCommandLine(commandLine + key);\n\t\t\txtermRef.current.terminal.write(key);\n\t\t}\n\t};\n\tconst welcomeText = welcome();\n\tuseEffect(() => {\n\t\txtermRef.current.terminal.writeln(welcomeText);\n\t\tinputPrompt();\n\t}, []);\n\n\treturn (\n\t\t<>\n\t\t\t{console.log(\n\t\t\t\t'email=',\n\t\t\t\tgetParamValue('email'),\n\t\t\t\t'username=',\n\t\t\t\tgetParamValue('username'),\n\t\t\t)}\n\t\t\t<XTerm ref={xtermRef} onKey={keyboardEventHandler} />;\n\t\t</>\n\t);\n}\n\nexport default Terminal;\n","import { createFolder } from './folder';\n\nconst isUserPath = (githubUserName, path) => {\n\tif (Array.isArray(path) && path.length > 1) {\n\t\treturn '/' + path[0] + '/' + path[1] === `/home/${githubUserName}`;\n\t}\n\treturn false;\n};\n\nconst initializePath = (user) => {\n\tif (user.path === undefined) {\n\t\tuser.path = [createFolder('home'), createFolder(user.githubUserName)];\n\t}\n\tif (user.dirPath.length === 0) {\n\t\tuser.dirPath = ['home', user.githubUserName];\n\t}\n\treturn user;\n};\n\nconst getRoot = () => createFolder('/');\n\nexport { initializePath, isUserPath, getRoot };\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Terminal from './bin/Terminal';\n\nReactDOM.render(<Terminal />, document.getElementById('root'));\n"],"sourceRoot":""}